{
  "timestamp": "2025-02-06T12:54:04.740Z",
  "files": [
    {
      "path": "package.json",
      "type": "config",
      "content": "{\n\t\"name\": \"notepadblog\",\n\t\"private\": true,\n\t\"version\": \"0.0.1\",\n\t\"type\": \"module\",\n\t\"scripts\": {\n\t\t\"dev\": \"vite dev\",\n\t\t\"build\": \"vite build\",\n\t\t\"preview\": \"vite preview\",\n\t\t\"prepare\": \"svelte-kit sync || echo ''\",\n\t\t\"check\": \"svelte-kit sync && svelte-check --tsconfig ./tsconfig.json\",\n\t\t\"check:watch\": \"svelte-kit sync && svelte-check --tsconfig ./tsconfig.json --watch\",\n\t\t\"format\": \"prettier --write .\",\n\t\t\"lint\": \"prettier --check . && eslint .\",\n\t\t\"snapshot\": \"node scripts/snapshot.js\"\n\t},\n\t\"devDependencies\": {\n\t\t\"@eslint/compat\": \"^1.2.5\",\n\t\t\"@eslint/js\": \"^9.18.0\",\n\t\t\"@sveltejs/adapter-vercel\": \"^5.5.2\",\n\t\t\"@sveltejs/kit\": \"^2.16.0\",\n\t\t\"@sveltejs/vite-plugin-svelte\": \"^5.0.0\",\n\t\t\"eslint\": \"^9.18.0\",\n\t\t\"eslint-config-prettier\": \"^10.0.1\",\n\t\t\"eslint-plugin-svelte\": \"^2.46.1\",\n\t\t\"globals\": \"^15.14.0\",\n\t\t\"prettier\": \"^3.4.2\",\n\t\t\"prettier-plugin-svelte\": \"^3.3.3\",\n\t\t\"svelte\": \"^5.0.0\",\n\t\t\"svelte-check\": \"^4.0.0\",\n\t\t\"typescript\": \"^5.0.0\",\n\t\t\"typescript-eslint\": \"^8.20.0\",\n\t\t\"vite\": \"^6.0.0\"\n\t},\n\t\"dependencies\": {\n\t\t\"@tailwindcss/vite\": \"^4.0.3\",\n\t\t\"tailwindcss\": \"^4.0.3\"\n\t}\n}"
    },
    {
      "path": "src\\app.css",
      "type": "config",
      "content": "@import \"tailwindcss\";\r\n@custom-variant dark (&:where(.dark, .dark *));\r\n\r\n@theme {\r\n\r\n    --font-poppins: Poppins, sans-serif;\r\n}\r\n\r\n@layer components {\r\n    .typography {\r\n        p {\r\n            font-size: var(--text-base);\r\n            color: var(--color-gray-700);\r\n        }\r\n\r\n        h1 {\r\n            font-size: var(--text-2xl--line-height);\r\n            font-weight: var(--font-weight-semibold);\r\n            color: var(--color-gray-950);\r\n        }\r\n\r\n        h2 {\r\n            font-size: var(--text-xl);\r\n            font-weight: var(--font-weight-semibold);\r\n            color: var(--color-gray-950);\r\n        }\r\n    }\r\n}"
    },
    {
      "path": "src\\app.d.ts",
      "type": "config",
      "content": "// See https://svelte.dev/docs/kit/types#app.d.ts\n// for information about these interfaces\ndeclare global {\n\tnamespace App {\n\t\t// interface Error {}\n\t\t// interface Locals {}\n\t\t// interface PageData {}\n\t\t// interface PageState {}\n\t\t// interface Platform {}\n\t}\n}\n\nexport {};\n"
    },
    {
      "path": "src\\app.html",
      "type": "config",
      "content": "<!doctype html>\n<html lang=\"en\" class=\"dark\">\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<link rel=\"icon\" href=\"%sveltekit.assets%/favicon.png\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\t\t%sveltekit.head%\n\t</head>\n\t<body data-sveltekit-preload-data=\"hover\">\n\t\t<div style=\"display: contents\">%sveltekit.body%</div>\n\t</body>\n</html>\n"
    },
    {
      "path": "src\\lib\\components\\MandelbrotSet\\index.ts",
      "type": "config",
      "content": "// src/lib/components/MandelbrotSet/index.ts\r\nexport { default as MandelbrotSet } from \"./Mandelbrot.svelte\"\r\nexport * from './types';"
    },
    {
      "path": "src\\lib\\components\\MandelbrotSet\\Mandelbrot.svelte",
      "type": "config",
      "content": "<!-- src/lib/components/MandelbrotSet/MandelbrotSet.svelte -->\r\n<script lang=\"ts\">\r\n\timport type { MandelbrotProps, WorkerMessage } from './types';\r\n\r\n\tlet {\r\n\t\twidth = $bindable(800),\r\n\t\theight = $bindable(600),\r\n\t\tmaxIterations = $bindable(100),\r\n\t\tcolorScheme = $bindable('classic')\r\n\t} = $props<{\r\n\t\twidth?: number;\r\n\t\theight?: number;\r\n\t\tmaxIterations?: number;\r\n\t\tcolorScheme?: 'classic' | 'ocean' | 'fire';\r\n\t}>();\r\n\r\n\tlet canvas: HTMLCanvasElement | undefined = $state();\r\n\tlet ctx: CanvasRenderingContext2D | null = $state(null);\r\n\tlet worker: Worker | undefined = $state();\r\n\tlet isRendering = $state(false);\r\n\r\n\t// View state\r\n\tlet zoom = $state(1);\r\n\tlet centerX = $state(-0.5);\r\n\tlet centerY = $state(0);\r\n\r\n\t// Pan state\r\n\tlet isDragging = $state(false);\r\n\tlet lastX = $state(0);\r\n\tlet lastY = $state(0);\r\n\tlet tempMaxIterations = $state(maxIterations);\r\n\r\n\t// Add selection state\r\n\tlet isSelecting = $state(false);\r\n\tlet selectionStart = $state({ x: 0, y: 0 });\r\n\tlet selectionEnd = $state({ x: 0, y: 0 });\r\n\tlet showSelection = $state(false);\r\n\r\n\t// Initialize worker\r\n\t$effect(() => {\r\n\t\tif (typeof window === 'undefined') return;\r\n\r\n\t\tworker = new Worker(new URL('./mandelbrot.worker.ts', import.meta.url), { type: 'module' });\r\n\r\n\t\tworker.onmessage = ({ data }: MessageEvent<WorkerMessage>) => {\r\n\t\t\tif (!ctx) return;\r\n\t\t\tctx.putImageData(data.imageData, 0, data.row);\r\n\t\t\tif (data.row >= height - 50) isRendering = false;\r\n\t\t};\r\n\r\n\t\treturn () => worker?.terminate();\r\n\t});\r\n\r\n\t// Initialize canvas context\r\n\t$effect(() => {\r\n\t\tif (!canvas) return;\r\n\t\tctx = canvas.getContext('2d');\r\n\t\tif (ctx) {\r\n\t\t\tctx.imageSmoothingEnabled = false;\r\n\t\t}\r\n\t});\r\n\r\n\tfunction renderMandelbrot(useTemp: boolean) {\r\n\t\tif (!ctx || !worker) return;\r\n\t\tisRendering = true;\r\n\r\n\t\tworker.postMessage({\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\tmaxIterations: useTemp ? Math.min(10, maxIterations) : maxIterations,\r\n\t\t\tzoom,\r\n\t\t\tcenterX,\r\n\t\t\tcenterY,\r\n\t\t\tcolorScheme\r\n\t\t});\r\n\t}\r\n\r\n\t// Handle zoom\r\n\tfunction onMouseWheel(event: WheelEvent) {\r\n\t\tevent.preventDefault();\r\n\t\tconst zoomFactor = event.deltaY > 0 ? 0.9 : 1.1;\r\n\t\tconst rect = canvas?.getBoundingClientRect();\r\n\t\tif (!rect) return;\r\n\r\n\t\tconst mouseX = event.clientX - rect.left;\r\n\t\tconst mouseY = event.clientY - rect.top;\r\n\r\n\t\t// Zoom towards mouse position\r\n\t\tcenterX += ((mouseX - width / 2) / (width * zoom)) * (1 - zoomFactor);\r\n\t\tcenterY += ((mouseY - height / 2) / (height * zoom)) * (1 - zoomFactor);\r\n\t\tzoom *= zoomFactor;\r\n\r\n\t\trenderMandelbrot(true); // Use lower iterations during zoom\r\n\r\n\t\t// Debounce the full quality render\r\n\t\tclearTimeout(zoomTimeout);\r\n\t\tzoomTimeout = setTimeout(() => {\r\n\t\t\trenderMandelbrot(false); // Render full quality after zoom ends\r\n\t\t}, 150);\r\n\t}\r\n\tlet zoomTimeout: ReturnType<typeof setTimeout>;\r\n\t// Cleanup\r\n\t$effect(() => {\r\n\t\treturn () => {\r\n\t\t\tclearTimeout(zoomTimeout);\r\n\t\t};\r\n\t});\r\n\r\n\t// Handle pan and selection\r\n\tfunction onMouseDown(event: MouseEvent) {\r\n\t\tconst rect = canvas?.getBoundingClientRect();\r\n\t\tif (!rect) return;\r\n\t\tif (event.shiftKey) {\r\n\t\t\t// Start selection when shift is held\r\n\t\t\tisSelecting = true;\r\n\t\t\tshowSelection = true;\r\n\t\t\tselectionStart = {\r\n\t\t\t\tx: event.clientX - rect.left,\r\n\t\t\t\ty: event.clientY - rect.top\r\n\t\t\t};\r\n\t\t\tselectionEnd = { ...selectionStart };\r\n\t\t} else {\r\n\t\t\t// Normal panning behavior\r\n\t\t\tisDragging = true;\r\n\t\t\tlastX = event.clientX;\r\n\t\t\tlastY = event.clientY;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onMouseMove(event: MouseEvent) {\r\n\t\tconst rect = canvas?.getBoundingClientRect();\r\n\t\tif (!rect) return;\r\n\t\tif (isSelecting) {\r\n\t\t\t// Update selection rectangle\r\n\t\t\tselectionEnd = {\r\n\t\t\t\tx: event.clientX - rect.left,\r\n\t\t\t\ty: event.clientY - rect.top\r\n\t\t\t};\r\n\t\t} else if (isDragging) {\r\n\t\t\t// Existing pan logic\r\n\t\t\tconst deltaX = event.clientX - lastX;\r\n\t\t\tconst deltaY = event.clientY - lastY;\r\n\r\n\t\t\tcenterX -= deltaX / (width * zoom);\r\n\t\t\tcenterY -= deltaY / (height * zoom);\r\n\r\n\t\t\tlastX = event.clientX;\r\n\t\t\tlastY = event.clientY;\r\n\r\n\t\t\trenderMandelbrot(true);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onMouseUp() {\r\n\t\tif (isSelecting) {\r\n\t\t\tconst selectionWidth = Math.abs(selectionEnd.x - selectionStart.x);\r\n\t\t\tconst selectionHeight = Math.abs(selectionEnd.y - selectionStart.y);\r\n\r\n\t\t\tif (selectionWidth > 10 && selectionHeight > 10) {\r\n\t\t\t\t// Calculate new view parameters\r\n\t\t\t\tconst selectionCenterX = (selectionStart.x + selectionEnd.x) / 2;\r\n\t\t\t\tconst selectionCenterY = (selectionStart.y + selectionEnd.y) / 2;\r\n\r\n\t\t\t\t// Calculate new zoom level based on selection size\r\n\t\t\t\tconst scaleX = width / selectionWidth;\r\n\t\t\t\tconst scaleY = height / selectionHeight;\r\n\t\t\t\tconst newZoom = zoom * Math.min(scaleX, scaleY);\r\n\r\n\t\t\t\t// Update center position\r\n\t\t\t\tcenterX += (selectionCenterX - width / 2) / (width * zoom);\r\n\t\t\t\tcenterY += (selectionCenterY - height / 2) / (height * zoom);\r\n\t\t\t\tzoom = newZoom;\r\n\r\n\t\t\t\trenderMandelbrot(false);\r\n\t\t\t}\r\n\r\n\t\t\t// Reset selection\r\n\t\t\tisSelecting = false;\r\n\t\t\tshowSelection = false;\r\n\t\t} else if (isDragging) {\r\n\t\t\tisDragging = false;\r\n\t\t\trenderMandelbrot(false);\r\n\t\t}\r\n\t}\r\n\r\n\t// Reset view\r\n\tfunction resetView() {\r\n\t\tzoom = 1;\r\n\t\tcenterX = -0.5;\r\n\t\tcenterY = 0;\r\n\t\trenderMandelbrot(false);\r\n\t}\r\n\r\n\t// Initial render\r\n\t$effect(() => {\r\n\t\trenderMandelbrot(false);\r\n\t});\r\n</script>\r\n\r\n<div class=\"mandelbrot @container\">\r\n\t<canvas\r\n\t\tbind:this={canvas}\r\n\t\t{width}\r\n\t\t{height}\r\n\t\tclass=\"w-full h-full object-contain cursor-move touch-none\"\r\n\t\tonwheel={onMouseWheel}\r\n\t\tonmousedown={onMouseDown}\r\n\t\tonmousemove={onMouseMove}\r\n\t\tonmouseup={onMouseUp}\r\n\t\tonmouseleave={onMouseUp}\r\n\t></canvas>\r\n\t<!-- Selection overlay -->\r\n\t{#if showSelection}\r\n\t\t<div\r\n\t\t\tclass=\"absolute pointer-events-none border-2 border-white/50 bg-white/10\"\r\n\t\t\tstyle:left=\"{Math.min(selectionStart.x, selectionEnd.x)}px\"\r\n\t\t\tstyle:top=\"{Math.min(selectionStart.y, selectionEnd.y)}px\"\r\n\t\t\tstyle:width=\"{Math.abs(selectionEnd.x - selectionStart.x)}px\"\r\n\t\t\tstyle:height=\"{Math.abs(selectionEnd.y - selectionStart.y)}px\"\r\n\t\t></div>\r\n\t{/if}\r\n\r\n  <!-- Existing controls -->\r\n\t<div class=\"controls @lg:absolute @lg:top-4 @lg:right-4 @sm:mt-4\">\r\n\t\t<div class=\"bg-neutral-900/20 backdrop-blur rounded-lg p-4 space-y-4\">\r\n\t\t\t<div class=\"space-y-2\">\r\n\t\t\t\t<label for=\"maxIterations\" class=\"text-sm text-neutral-50\">Max Iterations</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tid=\"maxIterations\"\r\n\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\tmin=\"50\"\r\n\t\t\t\t\tmax=\"1000\"\r\n\t\t\t\t\tstep=\"50\"\r\n\t\t\t\t\tbind:value={maxIterations}\r\n\t\t\t\t\tclass=\"w-full accent-primary-500 bg-neutral-700/50\"\r\n\t\t\t\t\tonchange={() => renderMandelbrot(true)}\r\n\t\t\t\t/>\r\n\t\t\t\t<span class=\"text-xs text-neutral-400\">{maxIterations}</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"space-y-2\">\r\n\t\t\t\t<label for=\"colorScheme\" class=\"text-sm text-neutral-50\">Color Scheme</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tid=\"colorScheme\"\r\n\t\t\t\t\tbind:value={colorScheme}\r\n\t\t\t\t\tclass=\"w-full bg-neutral-800/50 text-neutral-50 rounded-md border-neutral-700 focus:ring-primary-500\"\r\n\t\t\t\t\tonchange={() => renderMandelbrot(true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<option value=\"classic\">Classic</option>\r\n\t\t\t\t\t<option value=\"ocean\">Ocean</option>\r\n\t\t\t\t\t<option value=\"fire\">Fire</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<button\r\n\t\t\t\tonclick={resetView}\r\n\t\t\t\tclass=\"w-full px-4 py-2 bg-neutral-800/50 hover:bg-neutral-700/50 text-neutral-50 rounded-md transition-colors\"\r\n\t\t\t>\r\n\t\t\t\tReset View\r\n\t\t\t</button>\r\n\r\n\t\t\t{#if isRendering}\r\n\t\t\t\t<div class=\"text-sm text-neutral-50/80 animate-pulse\">Rendering...</div>\r\n\t\t\t{/if}\r\n\t\t</div>\r\n    <!-- Add help text -->\r\n    <div class=\"mt-2 text-xs text-neutral-300/80\">\r\n      Hold Shift + Click & Drag to zoom into a region\r\n    </div>\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\t@reference \"tailwindcss/theme\";\r\n\r\n\t.mandelbrot {\r\n\t\tposition: relative;\r\n\t\tbackground-color: theme(--color-neutral-900);\r\n\t\tborder-radius: theme(--radius-lg);\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: theme(--shadow-xl);\r\n\t}\r\n\r\n\t.controls {\r\n\t\tz-index: theme(zIndex.10);\r\n\t}\r\n</style>\r\n"
    },
    {
      "path": "src\\lib\\components\\MandelbrotSet\\mandelbrot.worker.ts",
      "type": "config",
      "content": "// src/lib/components/MandelbrotSet/mandelbrot.worker.ts\r\nimport type { WorkerData } from './types';\r\n\r\ntype RGBAColor = [number, number, number, number];\r\n\r\nconst colorSchemes = {\r\n  classic: (n: number, max: number): RGBAColor => {\r\n    if (n === max) return [0, 0, 0, 255];\r\n    const hue = (n / max) * 360;\r\n    const sat = 100;\r\n    const light = 50;\r\n    const c = (1 - Math.abs(2 * light / 100 - 1)) * sat / 100;\r\n    const x = c * (1 - Math.abs((hue / 60) % 2 - 1));\r\n    const m = light / 100 - c / 2;\r\n    \r\n    let r: number, g: number, b: number;\r\n    if (hue < 60) [r, g, b] = [c, x, 0];\r\n    else if (hue < 120) [r, g, b] = [x, c, 0];\r\n    else if (hue < 180) [r, g, b] = [0, c, x];\r\n    else if (hue < 240) [r, g, b] = [0, x, c];\r\n    else if (hue < 300) [r, g, b] = [x, 0, c];\r\n    else [r, g, b] = [c, 0, x];\r\n    \r\n    return [\r\n      Math.round((r + m) * 255),\r\n      Math.round((g + m) * 255),\r\n      Math.round((b + m) * 255),\r\n      255\r\n    ];\r\n  },\r\n  \r\n  ocean: (n: number, max: number): RGBAColor => {\r\n    if (n === max) return [0, 0, 0, 255];\r\n    const value = n / max;\r\n    const intensity = Math.sqrt(value);\r\n    return [\r\n      Math.round(intensity * 30),\r\n      Math.round(intensity * 100 + 155),\r\n      Math.round(intensity * 255),\r\n      255\r\n    ];\r\n  },\r\n  \r\n  fire: (n: number, max: number): RGBAColor => {\r\n    if (n === max) return [0, 0, 0, 255];\r\n    const value = n / max;\r\n    const intensity = Math.pow(value, 1.5);\r\n    return [\r\n      Math.round(intensity * 255),\r\n      Math.round(Math.pow(value, 2) * 200),\r\n      Math.round(Math.pow(value, 3) * 128),\r\n      255\r\n    ];\r\n  }\r\n};\r\n\r\nfunction mandelbrot(x0: number, y0: number, maxIterations: number): number {\r\n  let x = 0;\r\n  let y = 0;\r\n  let iteration = 0;\r\n  let x2 = 0;\r\n  let y2 = 0;\r\n  \r\n  while (x2 + y2 <= 4 && iteration < maxIterations) {\r\n    y = 2 * x * y + y0;\r\n    x = x2 - y2 + x0;\r\n    x2 = x * x;\r\n    y2 = y * y;\r\n    iteration++;\r\n  }\r\n  \r\n  return iteration;\r\n}\r\n\r\nself.onmessage = (e: MessageEvent<WorkerData>) => {\r\n  const {\r\n    width,\r\n    height,\r\n    maxIterations,\r\n    zoom,\r\n    centerX,\r\n    centerY,\r\n    colorScheme\r\n  } = e.data;\r\n  \r\n  const getColor = colorSchemes[colorScheme];\r\n  const chunkSize = 50; // Process in chunks for better responsiveness\r\n  \r\n  for (let startRow = 0; startRow < height; startRow += chunkSize) {\r\n    const endRow = Math.min(startRow + chunkSize, height);\r\n    const imageData = new ImageData(width, endRow - startRow);\r\n    \r\n    for (let row = startRow; row < endRow; row++) {\r\n      for (let col = 0; col < width; col++) {\r\n        const x = (col - width / 2) / (width * zoom) + centerX;\r\n        const y = (row - height / 2) / (height * zoom) + centerY;\r\n        \r\n        const iteration = mandelbrot(x, y, maxIterations);\r\n        const color = getColor(iteration, maxIterations);\r\n        \r\n        const pixelIndex = ((row - startRow) * width + col) * 4;\r\n        imageData.data[pixelIndex] = color[0];\r\n        imageData.data[pixelIndex + 1] = color[1];\r\n        imageData.data[pixelIndex + 2] = color[2];\r\n        imageData.data[pixelIndex + 3] = color[3];\r\n      }\r\n    }\r\n    \r\n    self.postMessage({ imageData, row: startRow });\r\n  }\r\n};"
    },
    {
      "path": "src\\lib\\components\\MandelbrotSet\\types.ts",
      "type": "config",
      "content": "// src/lib/components/MandelbrotSet/types.ts\r\nexport type ColorScheme = 'classic' | 'ocean' | 'fire';\r\n\r\nexport type MandelbrotProps = {\r\n  width?: number;\r\n  height?: number;\r\n  maxIterations?: number;\r\n  colorScheme?: ColorScheme;\r\n};\r\n\r\nexport type WorkerMessage = {\r\n  imageData: ImageData;\r\n  row: number;\r\n};\r\n\r\nexport type WorkerData = {\r\n  width: number;\r\n  height: number;\r\n  maxIterations: number;\r\n  zoom: number;\r\n  centerX: number;\r\n  centerY: number;\r\n  colorScheme: ColorScheme;\r\n};\r\n\r\n"
    },
    {
      "path": "src\\lib\\components\\Sketch\\SketchGallery.svelte",
      "type": "config",
      "content": "<!-- src/lib/components/Sketch/SketchGallery.svelte -->\r\n<script lang=\"ts\">\r\n  import type { Sketch } from './types';\r\n  import Whiteboard from './Whiteboard.svelte';\r\n  \r\n  let { sketches, onUpdate } = $props<{\r\n    sketches: Sketch[];\r\n    onUpdate: (sketch: Sketch) => void;\r\n  }>();\r\n  \r\n  let selectedSketch = $state<Sketch | null>(null);\r\n  let isEditMode = $state(false);\r\n  let hasUnsavedChanges = $state(false);\r\n  let editedSketchData = $state<any>(null);\r\n  \r\n  function handleSketchClick(sketch: Sketch) {\r\n    selectedSketch = sketch;\r\n    isEditMode = false;\r\n    hasUnsavedChanges = false;\r\n    editedSketchData = null;\r\n  }\r\n\r\n  function handleEdit(data: any) {\r\n    editedSketchData = data;\r\n    hasUnsavedChanges = true;\r\n  }\r\n\r\n  async function handleSave() {\r\n    if (selectedSketch && editedSketchData && onUpdate) {\r\n      const updatedSketch = {\r\n        ...selectedSketch,\r\n        data: editedSketchData,\r\n        updated: new Date().toISOString()\r\n      };\r\n      await onUpdate(updatedSketch);\r\n      selectedSketch = updatedSketch;\r\n      hasUnsavedChanges = false;\r\n    }\r\n  }\r\n\r\n  function handleKeydown(e: KeyboardEvent) {\r\n    if (e.key === 'Escape' && selectedSketch) {\r\n      if (hasUnsavedChanges) {\r\n        if (confirm('You have unsaved changes. Are you sure you want to close?')) {\r\n          closeModal();\r\n        }\r\n      } else {\r\n        closeModal();\r\n      }\r\n    }\r\n  }\r\n\r\n  function closeModal() {\r\n    selectedSketch = null;\r\n    isEditMode = false;\r\n    hasUnsavedChanges = false;\r\n    editedSketchData = null;\r\n  }\r\n</script>\r\n\r\n<svelte:window onkeydown={handleKeydown} />\r\n\r\n<!-- Gallery Grid -->\r\n<div class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-4\">\r\n  {#each sketches as sketch (sketch.id)}\r\n    <button \r\n      onclick={() => handleSketchClick(sketch)}\r\n      class=\"group relative aspect-square overflow-hidden rounded-lg border\r\n             border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900\r\n             hover:border-primary-500 focus:border-primary-500 \r\n             focus:outline-none focus:ring-2 focus:ring-primary-500\r\n             transition-all duration-200\"\r\n      type=\"button\"\r\n      aria-label={`View sketch: ${sketch.title}`}\r\n    >\r\n      <!-- Ensure image fills container properly -->\r\n      <div class=\"absolute inset-0 bg-white\">\r\n        <img \r\n          src={sketch.data.image} \r\n          alt={sketch.title}\r\n          class=\"w-full h-full object-contain\"\r\n          loading=\"lazy\"\r\n        />\r\n      </div>\r\n      \r\n      <div class=\"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/60 to-transparent\r\n                  p-4 text-white opacity-0 group-hover:opacity-100 \r\n                  group-focus:opacity-100 transition-opacity\">\r\n        <p class=\"text-sm font-medium truncate\">{sketch.title}</p>\r\n        <p class=\"text-xs text-neutral-200\">\r\n          Updated {new Date(sketch.updated).toLocaleDateString()}\r\n        </p>\r\n      </div>\r\n    </button>\r\n  {/each}\r\n</div>\r\n\r\n<!-- Modal -->\r\n{#if selectedSketch}\r\n  <div \r\n    role=\"dialog\"\r\n    aria-labelledby=\"sketch-modal-title\"\r\n    aria-modal=\"true\"\r\n    class=\"fixed inset-0 z-50 overflow-auto bg-black/50 dark:bg-black/50\r\n           backdrop-blur-sm flex items-center justify-center p-4\"\r\n  >\r\n    <!-- Backdrop -->\r\n    <button\r\n      class=\"absolute inset-0 w-full h-full cursor-default\"\r\n      onclick={() => {\r\n        if (hasUnsavedChanges) {\r\n          if (confirm('You have unsaved changes. Are you sure you want to close?')) {\r\n            closeModal();\r\n          }\r\n        } else {\r\n          closeModal();\r\n        }\r\n      }}\r\n      aria-label=\"Close modal\"\r\n      type=\"button\"\r\n    ></button>\r\n    \r\n    <!-- Modal content -->\r\n    <div\r\n      class=\"relative bg-neutral-900/80 dark:bg-neutral-700/80 rounded-lg max-w-5xl w-full  dark:text-neutral-400\r\n             max-h-[90vh] overflow-auto shadow-xl\"\r\n      role=\"document\"\r\n    >\r\n      <!-- Header -->\r\n      <div class=\"sticky top-0 z-10 flex justify-between items-center p-4\r\n                  bg-neutral-800 dark:bg-neutral-900 border-b border-neutral-700\r\n                  dark:border-neutral-600  dark:text-neutral-400\">\r\n                  <h2 \r\n                  id=\"sketch-modal-title\" \r\n                  class=\"text-xl font-bold dark:text-neutral-400\"\r\n                >\r\n                  {selectedSketch.title}\r\n                </h2>\r\n        \r\n        <div class=\"flex gap-2\">\r\n          {#if isEditMode}\r\n            <button\r\n              onclick={handleSave}\r\n              disabled={!hasUnsavedChanges}\r\n              class=\"px-4 py-2 rounded-lg font-medium\r\n                     bg-primary-500  dark:text-neutral-400 \r\n                     hover:bg-primary-600\r\n                     disabled:opacity-50\r\n                     transition-colors duration-200\"\r\n              type=\"button\"\r\n            >\r\n              Save Changes\r\n            </button>\r\n          {/if}\r\n          \r\n          <button\r\n            onclick={() => isEditMode = !isEditMode}\r\n            class=\"px-4 py-2 rounded-lg font-medium\r\n                   transition-colors duration-200\r\n                   {isEditMode ? \r\n                     'bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 hover:bg-neutral-300 dark:hover:bg-neutral-700' : \r\n                     'bg-primary-500 text-white hover:bg-primary-600'}\"\r\n            type=\"button\"\r\n            aria-pressed={isEditMode}\r\n          >\r\n            {isEditMode ? 'View' : 'Edit'}\r\n          </button>\r\n          \r\n          <button\r\n            onclick={() => {\r\n              if (hasUnsavedChanges) {\r\n                if (confirm('You have unsaved changes. Are you sure you want to close?')) {\r\n                  closeModal();\r\n                }\r\n              } else {\r\n                closeModal();\r\n              }\r\n            }}\r\n            class=\"px-4 py-2 rounded-lg font-medium\r\n                   bg-neutral-200 dark:bg-neutral-800\r\n                   text-neutral-900 dark:text-neutral-100\r\n                   hover:bg-neutral-300 dark:hover:bg-neutral-700\r\n                   transition-colors duration-200\"\r\n            type=\"button\"\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Whiteboard -->\r\n      <div class=\"p-4\">\r\n        <div class=\"h-[600px] bg-white rounded-lg border\r\n                    dark:border-neutral-700 overflow-hidden\">\r\n          <Whiteboard\r\n            initialData={selectedSketch.data}\r\n            readOnly={!isEditMode}\r\n            onUpdate={isEditMode ? handleEdit : undefined}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n{/if}\r\n\r\n<style>\r\n  @reference \"tailwindcss/theme\";\r\n\r\n  /* Optional: Add custom animations */\r\n  @keyframes modal-in {\r\n    from {\r\n      opacity: 0;\r\n      transform: translateY(10px);\r\n    }\r\n    to {\r\n      opacity: 1;\r\n      transform: translateY(0);\r\n    }\r\n  }\r\n\r\n  [role=\"dialog\"] [role=\"document\"] {\r\n    animation: modal-in 0.2s ease-out;\r\n  }\r\n</style>"
    },
    {
      "path": "src\\lib\\components\\Sketch\\types.ts",
      "type": "config",
      "content": "// src/lib/components/Sketch/types.ts\r\nexport interface SketchData {\r\n    image: string;\r\n    transform: {\r\n      scale: number;\r\n      rotation: number;\r\n      translateX: number;\r\n      translateY: number;\r\n    };\r\n  }\r\n  \r\n  export interface Sketch {\r\n    id: string;\r\n    title: string;\r\n    data: SketchData;\r\n    created: string;\r\n    updated: string;\r\n  }\r\n  \r\n  export interface WhiteboardProps {\r\n    readOnly?: boolean;\r\n    initialData?: SketchData | null;\r\n    onUpdate?: (data: SketchData) => void;\r\n  }"
    },
    {
      "path": "src\\lib\\components\\Sketch\\Whiteboard.svelte",
      "type": "config",
      "content": "<!-- src/lib/components/Sketch/Whiteboard.svelte -->\r\n<script lang=\"ts\">\r\n  import type { SketchData } from './types';\r\n  \r\n  let { \r\n    readOnly = false,\r\n    initialData = null,\r\n    onUpdate = undefined\r\n  } = $props<{\r\n    readOnly?: boolean;\r\n    initialData?: SketchData | null;\r\n    onUpdate?: (data: SketchData) => void;\r\n  }>();\r\n\r\n  let canvas: HTMLCanvasElement | undefined = $state();\r\n  let ctx: CanvasRenderingContext2D | null = $state(null);\r\n\r\n  // Initialize canvas context\r\n  $effect(() => {\r\n    if (!canvas) return;\r\n    const context = canvas.getContext('2d');\r\n    if (!context) return;\r\n    \r\n    ctx = context;\r\n    ctx.lineCap = 'round';\r\n    ctx.lineJoin = 'round';\r\n    ctx.lineWidth = 2;\r\n\r\n    // Set canvas size\r\n    const rect = canvas.getBoundingClientRect();\r\n    const scale = window.devicePixelRatio;\r\n    canvas.width = rect.width * scale;\r\n    canvas.height = rect.height * scale;\r\n    \r\n    // Scale for high DPI display\r\n    ctx.scale(scale, scale);\r\n  });\r\n\r\n  // Load initial data\r\n  $effect(() => {\r\n    if (!canvas || !ctx || !initialData?.image) return;\r\n    \r\n    const image = new Image();\r\n    image.onload = () => {\r\n      if (!ctx || !canvas) return;\r\n      \r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.drawImage(image, 0, 0, canvas.width, canvas.height);\r\n      \r\n      if (initialData.transform) {\r\n        transform = initialData.transform;\r\n        updateTransform();\r\n      }\r\n    };\r\n    \r\n    // Handle any potential errors loading the image\r\n    image.onerror = (error) => {\r\n      console.error('Error loading sketch image:', error);\r\n    };\r\n    \r\n    image.src = initialData.image;\r\n  });\r\n\r\n  // Transform state\r\n  let transform = $state({\r\n    scale: 1,\r\n    rotation: 0,\r\n    translateX: 0,\r\n    translateY: 0\r\n  });\r\n\r\n  // Update transform with null checks\r\n  function updateTransform() {\r\n    if (!ctx) return;\r\n    ctx.setTransform(\r\n      transform.scale * Math.cos(transform.rotation),\r\n      transform.scale * Math.sin(transform.rotation),\r\n      -transform.scale * Math.sin(transform.rotation),\r\n      transform.scale * Math.cos(transform.rotation),\r\n      transform.translateX,\r\n      transform.translateY\r\n    );\r\n  }\r\n\r\n  // Drawing state\r\n  let isDrawing = $state(false);\r\n  let lastX = $state(0);\r\n  let lastY = $state(0);\r\n\r\n  function getCanvasCoordinates(e: PointerEvent) {\r\n    if (!canvas || !ctx) return null;\r\n    \r\n    const rect = canvas.getBoundingClientRect();\r\n    const scaleX = canvas.width / rect.width;\r\n    const scaleY = canvas.height / rect.height;\r\n    \r\n    const x = (e.clientX - rect.left) * scaleX;\r\n    const y = (e.clientY - rect.top) * scaleY;\r\n    \r\n    const matrix = ctx.getTransform().invertSelf();\r\n    const transformedX = x * matrix.a + y * matrix.c + matrix.e;\r\n    const transformedY = x * matrix.b + y * matrix.d + matrix.f;\r\n    \r\n    return { x: transformedX, y: transformedY };\r\n  }\r\n\r\n  function handlePointerDown(e: PointerEvent) {\r\n    if (readOnly) return;\r\n    const coords = getCanvasCoordinates(e);\r\n    if (!coords) return;\r\n    \r\n    isDrawing = true;\r\n    lastX = coords.x;\r\n    lastY = coords.y;\r\n  }\r\n\r\n  function handlePointerMove(e: PointerEvent) {\r\n    if (!isDrawing || !ctx || !canvas) return;\r\n    const coords = getCanvasCoordinates(e);\r\n    if (!coords) return;\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(lastX, lastY);\r\n    ctx.lineTo(coords.x, coords.y);\r\n    ctx.stroke();\r\n\r\n    lastX = coords.x;\r\n    lastY = coords.y;\r\n  }\r\n\r\n  function handlePointerUp() {\r\n    if (!isDrawing) return;\r\n    isDrawing = false;\r\n    \r\n    if (onUpdate && canvas) {\r\n      onUpdate({\r\n        image: canvas.toDataURL(),\r\n        transform: { ...transform }\r\n      });\r\n    }\r\n  }\r\n</script>\r\n\r\n\r\n<div class=\"relative w-full h-full bg-white rounded-lg\">\r\n  <canvas\r\n    bind:this={canvas}\r\n    class=\"w-full h-full touch-none\"\r\n    onpointerdown={handlePointerDown}\r\n    onpointermove={handlePointerMove}\r\n    onpointerup={handlePointerUp}\r\n    onpointerout={handlePointerUp}\r\n    onpointercancel={handlePointerUp}\r\n    style=\"touch-action: none\"\r\n  ></canvas>\r\n</div>\r\n\r\n<style>\r\n  @reference \"tailwindcss/theme\";\r\n\r\n  canvas {\r\n    /* Improve stroke visibility */\r\n    mix-blend-mode: normal;\r\n  }\r\n\r\n  /* Adjust stroke color based on theme */\r\n  :global(.dark) canvas {\r\n    stroke: theme(--color-white);\r\n  }\r\n</style>"
    },
    {
      "path": "src\\lib\\index.ts",
      "type": "config",
      "content": "// place files you want to import through the `$lib` alias in this folder.\n"
    },
    {
      "path": "src\\lib\\server\\store.ts",
      "type": "config",
      "content": "// src/lib/server/store.ts \r\nimport type { Sketch } from \"$lib/components/Sketch/types\";\r\n\r\nexport const store = {\r\n  sketches: [] as Sketch[]\r\n};"
    },
    {
      "path": "src\\routes\\+layout.svelte",
      "type": "config",
      "content": "<script lang=\"ts\">\r\n  import { page } from '$app/state';\r\n  let { children } = $props();\r\n  import \"../app.css\";\r\n  \r\n  // Derive the current path to highlight active links\r\n  let currentPath = $derived(page.url.pathname);\r\n  </script>\r\n  \r\n  <main class=\"font-poppins\">\r\n    <nav class=\"bg-white dark:bg-neutral-800 shadow\">\r\n      <div class=\"max-w-7xl mx-auto px-4\">\r\n        <div class=\"flex justify-between h-16\">\r\n          <div class=\"flex space-x-4\">\r\n            <a \r\n              href=\"/\" \r\n              class=\"flex items-center px-4 py-2 rounded-md transition-colors\r\n                     {currentPath === '/' ? \r\n                       'bg-primary-50 dark:bg-primary-900 text-primary-700 dark:text-primary-100' : \r\n                       'text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700'}\"\r\n            >\r\n              Home\r\n            </a>\r\n            <a \r\n              href=\"/sketches\" \r\n              class=\"flex items-center px-4 py-2 rounded-md transition-colors\r\n                     {currentPath === '/sketches' ? \r\n                       'bg-primary-50 dark:bg-primary-900 text-primary-700 dark:text-primary-100' : \r\n                       'text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700'}\"\r\n            >\r\n              Sketches\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n    \r\n    <div class=\"min-h-[calc(100vh-4rem)]\">\r\n      {@render children()}\r\n    </div>\r\n  </main>\r\n  \r\n  <style>\r\n    @reference \"tailwindcss/theme\";\r\n    :global(html) {\r\n      background-color: theme(--color-neutral-900);\r\n      color-scheme: dark;\r\n    }\r\n  </style>"
    },
    {
      "path": "src\\routes\\+page.svelte",
      "type": "config",
      "content": "<!-- src/routes/+page.svelte -->\n<script lang=\"ts\">\n  import { MandelbrotSet } from '$lib/components/MandelbrotSet';\n  import Whiteboard from '$lib/components/Sketch/Whiteboard.svelte';\n  \n  // Sketch state\n  let currentSketch = $state(null);\n  \n  function handleSketchUpdate(sketchData: any) {\n    currentSketch = sketchData;\n  }\n  </script>\n  \n  <div class=\"w-full max-w-4xl mx-auto p-4 space-y-8\">\n    <!-- Mandelbrot Section -->\n    <section class=\"rounded-lg overflow-hidden shadow-lg\">\n      <h2 class=\"text-xl font-bold mb-4\">Mandelbrot Explorer</h2>\n      <MandelbrotSet \n        width={800}\n        height={600}\n        maxIterations={100}\n        colorScheme=\"classic\"\n      />\n    </section>\n  \n    \n  \n    <!-- Optional: Controls or Save Button -->\n    <div class=\"flex justify-end\">\n      <button\n        onclick={async () => {\n          if (currentSketch) {\n            try {\n              const response = await fetch('/api/posts', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                  type: 'sketch',\n                  data: currentSketch\n                })\n              });\n              \n              if (!response.ok) throw new Error('Failed to save sketch');\n              \n              // Show success message\n              alert('Sketch saved successfully!');\n            } catch (error) {\n              // Show error message\n              alert('Failed to save sketch');\n            }\n          }\n        }}\n        class=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 \n               transition-colors duration-200\"\n      >\n        Save Sketch\n      </button>\n    </div>\n  </div>\n  \n  <style>\n    /* Optional: Add any custom styles here */\n  </style>"
    },
    {
      "path": "src\\routes\\api\\posts\\+server.ts",
      "type": "config",
      "content": "// src/routes/api/posts/+server.ts\r\nimport type { RequestEvent } from '@sveltejs/kit';\r\nimport { json } from '@sveltejs/kit';\r\n\r\nexport async function POST({ request }: RequestEvent) {\r\n  try {\r\n    const post = await request.json();\r\n    \r\n    // Here you would:\r\n    // 1. Validate the post data\r\n    // 2. Save to your database\r\n    // 3. Handle the sketch data appropriately\r\n    \r\n    return json({ success: true, id: 'new-post-id' });\r\n  } catch (error) {\r\n    return new Response(String(error), { status: 500 });\r\n  }\r\n}"
    },
    {
      "path": "src\\routes\\api\\sketches\\[id]\\+server.ts",
      "type": "config",
      "content": "// src/routes/api/sketches/[id]/+server.ts\r\nimport { json } from '@sveltejs/kit';\r\nimport type { RequestEvent } from '@sveltejs/kit';\r\nimport type { Sketch } from \"$lib/components/Sketch/types\";\r\nimport { store } from '$lib/server/store';\r\n\r\nexport async function PUT({ request, params }: RequestEvent) {\r\n  const { id } = params;\r\n  const updatedSketch: Sketch = await request.json();\r\n  \r\n  const index = store.sketches.findIndex(s => s.id === id);\r\n  \r\n  if (index === -1) {\r\n    return new Response('Sketch not found', { status: 404 });\r\n  }\r\n  \r\n  store.sketches[index] = {\r\n    ...updatedSketch,\r\n    updated: new Date().toISOString()\r\n  };\r\n  \r\n  return json(store.sketches[index]);\r\n}"
    },
    {
      "path": "src\\routes\\api\\sketches\\+server.ts",
      "type": "config",
      "content": "// src/routes/api/sketches/+server.ts\r\nimport { json } from '@sveltejs/kit';\r\nimport type { RequestEvent } from '@sveltejs/kit';\r\nimport type { Sketch } from \"$lib/components/Sketch/types\";\r\nimport { store } from '$lib/server/store';\r\n\r\nexport async function GET() {\r\n  return json(store.sketches);\r\n}\r\n\r\nexport async function POST({ request }: RequestEvent) {\r\n  const sketch: Omit<Sketch, 'id' | 'created' | 'updated'> = await request.json();\r\n  \r\n  const newSketch: Sketch = {\r\n    ...sketch,\r\n    id: crypto.randomUUID(),\r\n    created: new Date().toISOString(), \r\n    updated: new Date().toISOString()\r\n  };\r\n  \r\n  store.sketches.push(newSketch);\r\n  return json(newSketch);\r\n}"
    },
    {
      "path": "src\\routes\\posts\\edit\\+page.svelte",
      "type": "config",
      "content": "<!-- src/routes/posts/edit/+page.svelte -->\r\n<script lang=\"ts\">\r\n    import Whiteboard from '$lib/components/Sketch/Whiteboard.svelte';\r\n    \r\n    // Post data\r\n    let post = $state({\r\n      title: '',\r\n      content: '',\r\n      sketch: null\r\n    });\r\n    \r\n    // Handle sketch updates\r\n    function updateSketch(sketchData: any) {\r\n      post.sketch = sketchData;\r\n    }\r\n    \r\n    // Save post\r\n    async function savePost() {\r\n      try {\r\n        const response = await fetch('/api/posts', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(post)\r\n        });\r\n        \r\n        if (!response.ok) throw new Error('Failed to save post');\r\n        \r\n        // Handle successful save\r\n      } catch (error) {\r\n        // Handle error appropriately\r\n      }\r\n    }\r\n    </script>\r\n    \r\n    <div class=\"max-w-4xl mx-auto p-4 space-y-6\">\r\n      <input\r\n        type=\"text\"\r\n        bind:value={post.title}\r\n        class=\"w-full text-2xl font-bold p-2 border rounded\"\r\n        placeholder=\"Post title...\"\r\n      />\r\n      \r\n      <div class=\"h-[500px] border rounded\">\r\n        <Whiteboard\r\n          initialData={post.sketch}\r\n          onUpdate={updateSketch}\r\n        />\r\n      </div>\r\n      \r\n      <textarea\r\n  bind:value={post.content}\r\n  class=\"w-full h-64 p-2 border rounded\"\r\n  placeholder=\"Write your post content...\"\r\n></textarea>\r\n      \r\n      <button\r\n        onclick={savePost}\r\n        class=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n      >\r\n        Save Post\r\n      </button>\r\n    </div>"
    },
    {
      "path": "src\\routes\\sketches\\+page.svelte",
      "type": "config",
      "content": "<!-- src/routes/sketches/+page.svelte -->\r\n<script lang=\"ts\">\r\n  import { onMount } from 'svelte';\r\n  import type { Sketch, SketchData } from \"$lib/components/Sketch/types\";\r\n  import Whiteboard from '$lib/components/Sketch/Whiteboard.svelte';\r\n  import SketchGallery from '$lib/components/Sketch/SketchGallery.svelte';\r\n  \r\n  let sketches = $state<Sketch[]>([]);\r\n  let isCreating = $state(false);\r\n  let newSketchTitle = $state('');\r\n  // Fix: Properly type newSketchData to allow null\r\n  let newSketchData = $state<SketchData | null>(null);\r\n  \r\n  // Load sketches\r\n  $effect(() => {\r\n    loadSketches();\r\n  });\r\n  \r\n  async function loadSketches() {\r\n    const response = await fetch('/api/sketches');\r\n    if (response.ok) {\r\n      sketches = await response.json();\r\n    }\r\n  }\r\n  \r\n  async function saveNewSketch() {\r\n    if (!newSketchData || !newSketchTitle.trim()) return;\r\n    \r\n    const response = await fetch('/api/sketches', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        title: newSketchTitle,\r\n        data: newSketchData\r\n      })\r\n    });\r\n    \r\n    if (response.ok) {\r\n      const savedSketch = await response.json();\r\n      sketches = [...sketches, savedSketch];\r\n      isCreating = false;\r\n      newSketchTitle = '';\r\n      newSketchData = null;\r\n    }\r\n  }\r\n  \r\n  async function updateSketch(sketch: Sketch) {\r\n    const response = await fetch(`/api/sketches/${sketch.id}`, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(sketch)\r\n    });\r\n    \r\n    if (response.ok) {\r\n      const updatedSketch = await response.json();\r\n      sketches = sketches.map(s => \r\n        s.id === updatedSketch.id ? updatedSketch : s\r\n      );\r\n    } else {\r\n      console.error('Failed to update sketch:', await response.text());\r\n      alert('Failed to update sketch. Please try again.');\r\n    }\r\n  }\r\n</script>\r\n\r\n    \r\n    <div class=\"max-w-7xl mx-auto p-4\">\r\n      <div class=\"flex justify-between items-center mb-8\">\r\n        <h1 class=\"text-2xl font-bold\">My Sketches</h1>\r\n        <button\r\n          onclick={() => isCreating = true}\r\n          class=\"px-4 py-2 rounded bg-blue-500 text-white \r\n                 hover:bg-blue-600 transition-colors\"\r\n        >\r\n          New Sketch\r\n        </button>\r\n      </div>\r\n    \r\n      <SketchGallery\r\n        {sketches}\r\n        onUpdate={updateSketch}\r\n      />\r\n      \r\n      {#if isCreating}\r\n        <div class=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4\">\r\n          <div class=\"bg-white rounded-lg max-w-4xl w-full p-4\">\r\n            <div class=\"flex justify-between items-center mb-4\">\r\n              <input\r\n                type=\"text\"\r\n                bind:value={newSketchTitle}\r\n                placeholder=\"Sketch title...\"\r\n                class=\"px-4 py-2 border rounded text-neutral-600\"\r\n              />\r\n              <div class=\"flex gap-2\">\r\n                <button\r\n                  onclick={saveNewSketch}\r\n                  disabled={!newSketchTitle.trim() || !newSketchData}\r\n                  class=\"px-4 py-2 rounded bg-blue-500 text-white \r\n                         hover:bg-blue-600 transition-colors\r\n                         disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  Save\r\n                </button>\r\n                <button\r\n                  onclick={() => isCreating = false}\r\n                  class=\"px-4 py-2 rounded bg-gray-500 text-white \r\n                         hover:bg-gray-600 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"h-[600px] bg-white rounded border\">\r\n              <Whiteboard\r\n                onUpdate={(data) => newSketchData = data}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      {/if}\r\n    </div>"
    },
    {
      "path": "svelte.config.js",
      "type": "config",
      "content": "import adapter from '@sveltejs/adapter-vercel';\nimport { vitePreprocess } from '@sveltejs/vite-plugin-svelte';\n\n/** @type {import('@sveltejs/kit').Config} */\nconst config = {\n\t// Consult https://svelte.dev/docs/kit/integrations\n\t// for more information about preprocessors\n\tpreprocess: vitePreprocess(),\n\n\tkit: {\n\t\t// adapter-auto only supports some environments, see https://svelte.dev/docs/kit/adapter-auto for a list.\n\t\t// If your environment is not supported, or you settled on a specific environment, switch out the adapter.\n\t\t// See https://svelte.dev/docs/kit/adapters for more information about adapters.\n\t\tadapter: adapter()\n\t}\n};\n\nexport default config;\n"
    },
    {
      "path": "tsconfig.json",
      "type": "config",
      "content": "{\n\t\"extends\": \"./.svelte-kit/tsconfig.json\",\n\t\"compilerOptions\": {\n\t\t\"allowJs\": true,\n\t\t\"checkJs\": true,\n\t\t\"esModuleInterop\": true,\n\t\t\"forceConsistentCasingInFileNames\": true,\n\t\t\"resolveJsonModule\": true,\n\t\t\"skipLibCheck\": true,\n\t\t\"sourceMap\": true,\n\t\t\"strict\": true,\n\t\t\"moduleResolution\": \"bundler\"\n\t}\n\t// Path aliases are handled by https://svelte.dev/docs/kit/configuration#alias\n\t// except $lib which is handled by https://svelte.dev/docs/kit/configuration#files\n\t//\n\t// If you want to overwrite includes/excludes, make sure to copy over the relevant includes/excludes\n\t// from the referenced tsconfig.json - TypeScript does not merge them in\n}\n"
    },
    {
      "path": "vite.config.ts",
      "type": "config",
      "content": "import { sveltekit } from '@sveltejs/kit/vite';\nimport { defineConfig } from 'vite';\nimport tailwindcss from '@tailwindcss/vite';\nexport default defineConfig({\n  plugins: [\n    tailwindcss(),\n    sveltekit(),\n  ],\n});"
    }
  ]
}